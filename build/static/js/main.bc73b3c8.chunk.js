(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{124:function(e,t,a){},184:function(e,t,a){e.exports=a(371)},189:function(e,t,a){e.exports=a.p+"static/media/logo.8b4f5be4.svg"},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),i=a.n(l),o=(a(124),a(21)),c=a(22),s=a(24),u=a(23),m=(a(189),a(63)),d=a(47),p=(a(190),a(373)),f=a(71),h=a(26),g=a(76),v=a.n(g),E=a(376),w=a(372),y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).redirectToProfile=function(t){var a=e.props.history;a&&a.push("/miner/"+t)},e.onSearch=function(t){console.log(t),e.redirectToProfile(t)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=E.a.Search;return r.a.createElement(w.a,{direction:"vertical",style:{marginLeft:"30vw"}},r.a.createElement(e,{placeholder:"Enter miner address",onSearch:this.onSearch,style:{width:400}}))}}]),a}(n.Component),b=Object(d.e)(y),F={api_url:"https://livepeer-pricing-tool.com",livepeer_api:"https://api.thegraph.com/subgraphs/name/livepeer/livepeer",miner_marketplace_api:"https://miner-marketplace-backend.onrender.com/query"},S=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:null,responseStatus:null},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{style:{textAlign:"center",fontSize:"large"}},"Search for a miner profile by entering the miner's address in the search bar below."),r.a.createElement("br",null),r.a.createElement(b,null)))}}]),a}(n.Component),k=a(377),I=a(375),x=a(374),P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).columns=[{title:"Transaction Type",dataIndex:"direction",align:"left",sorter:{compare:function(e,t){return e.direction-t.direction}},filters:e.getFilters("direction"),onFilter:function(e,t){return 0===t.direction.indexOf(e)}},{title:"Amount",dataIndex:"amount",align:"left",sorter:{compare:function(e,t){return e.amount-t.amount}},render:function(t){return e.formatFIL(t)}},{title:"Sender",dataIndex:"sender",align:"left",filters:e.getFilters("sender"),onFilter:function(e,t){return 0===t.sender.indexOf(e)}},{title:"Receiver",dataIndex:"receiver",align:"left",filters:e.getFilters("receiver"),onFilter:function(e,t){return 0===t.receiver.indexOf(e)}},{title:"Height",dataIndex:"height",align:"left",sorter:{compare:function(e,t){return e.height-t.height}}},{title:"Miner Fee",dataIndex:"minerFee",align:"left",sorter:{compare:function(e,t){return parseInt(e.minerFee)-parseInt(t.minerFee)}},render:function(t){return e.formatFIL(t)}},{title:"Burn Fee",dataIndex:"burnFee",align:"left",sorter:{compare:function(e,t){return parseInt(e.burnFee)-parseInt(t.burnFee)}},render:function(t){return e.formatFIL(t)}},{title:"Actor Name",dataIndex:"actorName",align:"left",sorter:{compare:function(e,t){return e.actorName-t.actorName}},filters:e.getFilters("actorName"),onFilter:function(e,t){return 0===t.actorName.indexOf(e)}},{title:"Method",dataIndex:"methodName",align:"left",sorter:{compare:function(e,t){return e.methodName-t.methodName}},filters:e.getFilters("methodName"),onFilter:function(e,t){return 0===t.methodName.indexOf(e)}}],e}return Object(c.a)(a,[{key:"formatFIL",value:function(e){return e=parseInt(e),(e=(e/=Math.pow(10,18)).toFixed(4)).toString()+" FIL"}},{key:"onChange",value:function(e,t,a,n){console.log("params",e,t,a,n)}},{key:"getFilters",value:function(e){var t=this.props.data,a=[];t.forEach((function(t){a.push(t[e])})),a=a.filter((function(e,t,a){return a.indexOf(e)===t}));var n=[];return a.forEach((function(e){n.push({text:e.toString(),value:e})})),n}},{key:"render",value:function(){return r.a.createElement(x.a,{columns:this.columns,dataSource:this.props.data,onChange:this.onChange,pagination:!0})}}]),a}(n.Component),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).columns=[{title:"Epoch",dataIndex:"epoch",align:"left",sorter:{compare:function(e,t){return parseInt(e.epoch)-parseInt(t.epoch)}}},{title:"From",dataIndex:"from",align:"left"},{title:"To",dataIndex:"to",align:"left"}],e}return Object(c.a)(a,[{key:"onChange",value:function(e,t,a,n){console.log("params",e,t,a,n)}},{key:"render",value:function(){return r.a.createElement(x.a,{columns:this.columns,dataSource:this.props.data,onChange:this.onChange,pagination:!1})}}]),a}(n.Component),j=(p.a.Header,p.a.Content,p.a.Footer,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:null,responseStatus:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.match.params.address+" miner id"),v.a.post(F.miner_marketplace_api,{query:"query ($id: ID!) {\n                miner(id: $id) {\n                    id\n                    address\n                    name\n                    bio\n                    owner {\n                      id\n                      address\n                      actor\n                      balance\n                      messages\n                      createdAt\n                      latestTransactionAt\n                    }\n                    worker {\n                      id\n                      address\n                      actor\n                      balance\n                      messages\n                      createdAt\n                      latestTransactionAt\n                    }\n                    contact {\n                      email\n                      slack\n                      website\n                      twitter\n                      email\n                    }\n                    verified\n                    serviceDetails {\n                      storage\n                      retrieval\n                      repair\n                      onlineDeals\n                      offlineDeals\n                      storageAskPrice\n                      retrievalAskPrice\n                      minPieceSize\n                      maxPieceSize\n                    }\n                    financeMetrics(since: 545000, till: 570000) {\n                      totalIncome\n                      totalExpenditure\n                      blockRewards\n                      storageDealPayments\n                      retrievalDealPayments\n                      networkFee\n                      penalty\n                      preCommitDeposits\n                      initialPledge\n                      lockedFunds\n                      availableFunds\n                    }\n                    qualityIndicators {\n                      winCount\n                      blocksMined\n                      qualityAdjPower\n                      feeDebt\n                      dataStored\n                      faultySectors\n                    }\n                    transactions(since: 545000, till: 570000) {\n                      id\n                      height\n                      amount\n                      sender\n                      receiver\n                      direction\n                      minerFee\n                      burnFee\n                      actorName\n                      methodName\n                      exitCode\n                    }\n                }\n              }",variables:{id:this.props.match.params.address}},{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t.data);var a=t.data.data.miner;console.log("fetching textile data"),v.a.get("https://minerindex.hub.textile.io/v1/index/miner/"+e.props.match.params.address,{headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t.data);var n=t.data.info;a.location=n.metadata.location,a.qualityIndicators.relativePower=n.filecoin.relativePower,a.qualityIndicators.activeSectors=n.filecoin.activeSectors,a.serviceDetails.storageAskPrice=n.filecoin.askPrice,a.serviceDetails.sectorSize=n.filecoin.sectorSize,a.serviceDetails.minPieceSize=n.filecoin.minPieceSize,a.serviceDetails.maxPieceSize=n.filecoin.maxPieceSize,a.storageDealSummary=n.dealsSummary,a.retrievalDealSummary=n.retrievalsSummary,console.log("updated miner data"),console.log(a),console.log("fetching address history"),v.a.get("http://ec2-18-237-94-115.us-west-2.compute.amazonaws.com/addrChanges.json",{headers:{"Content-Type":"application/json"}}).then((function(t){console.log("address history fetched successfully"),console.log(t.data);var n=e.props.match.params.address;n in t.data?(a.ownerChanges=t.data[n].ownerChanges,a.workerChanges=t.data[n].workerChanges):(a.ownerChanges=null,a.workerChanges=null),console.log("final miner data"),console.log(a),e.setState({data:a,responseStatus:"success"})})).catch((function(t){console.log("failure in fetching address history"),console.log(t),a.ownerChanges=null,a.workerChanges=null,e.setState({data:null,responseStatus:"failed"})}))})).catch((function(t){console.log("failure in fetching data from textile"),console.log(t),e.setState({data:null,responseStatus:"failed"})}))})).catch((function(t){console.log("failure in fetching data from miner marketplace api"),console.log(t),e.setState({data:null,responseStatus:"failed"})}))}},{key:"formatFIL",value:function(e){return e=""===e?0:parseInt(e),(e=(e/=Math.pow(10,18)).toFixed(4)).toString()+" FIL"}},{key:"formatAdjPower",value:function(e){return(e=""===e?0:parseInt(e))>=Math.pow(1024,6)?e=(e=(e/=Math.pow(1024,6)).toFixed(4)).toString()+" EiB":e>=Math.pow(1024,5)?e=(e=(e/=Math.pow(1024,5)).toFixed(4)).toString()+" PiB":e>=Math.pow(1024,4)?e=(e=(e/=Math.pow(1024,4)).toFixed(4)).toString()+" TiB":e>=Math.pow(1024,3)?e=(e=(e/=Math.pow(1024,3)).toFixed(4)).toString()+" GiB":e>=Math.pow(1024,2)?e=(e=(e/=Math.pow(1024,2)).toFixed(4)).toString()+" MiB":e>=1024?e=(e=(e/=1024).toFixed(4)).toString()+" KiB":e.toString()+" bytes"}},{key:"render",value:function(){if(this.state.responseStatus){if(this.state.data){var e=this.state.data;return console.log("miner data"),console.log(e),r.a.createElement("div",null,r.a.createElement(k.a,{className:"site-page-header",backIcon:"false",title:"Miner Profile ",subTitle:this.props.match.params.address}),r.a.createElement(I.a,{title:"Basic Info",style:{width:"93vw"}},r.a.createElement("p",null,"Name : ",e.name," "),r.a.createElement("p",null,"Bio : ",e.bio," "),r.a.createElement("p",null,"Location : ",e.location," "),r.a.createElement("p",null,"Id : ",e.id," "),r.a.createElement("p",null,"Owner : ",e.owner.id," "),r.a.createElement("p",null,"Worker : ",e.worker.id," "),r.a.createElement("p",null,"Verified: ",e.verified?"Yes":"No")),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Contact",style:{width:"93vw"}},r.a.createElement("p",null,"Slack : ",e.contact.slack," "),r.a.createElement("p",null,"Twitter : ",e.contact.twitter," "),r.a.createElement("p",null,"Email : ",e.contact.email," "),r.a.createElement("p",null,"Website : ",e.contact.website," ")),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Service Details",style:{width:"93vw"}},r.a.createElement("p",null,"Storage : ",e.serviceDetails.storage?"Yes":"No"," "),r.a.createElement("p",null,"Retrieval : ",e.serviceDetails.retrieval?"Yes":"No"," "),r.a.createElement("p",null,"Repair : ",e.serviceDetails.repair?"Yes":"No"," "),r.a.createElement("p",null,"Online Deals : ",e.serviceDetails.onlineDeals?"Yes":"No"," "),r.a.createElement("p",null,"Offline Deals : ",e.serviceDetails.offlineDeals?"Yes":"No"," "),r.a.createElement("p",null,"Storage Ask Price : ",this.formatFIL(e.serviceDetails.storageAskPrice)+"/GiB/epoch"," "),r.a.createElement("p",null,"Retrieval Ask Price : ",e.serviceDetails.retrievalAskPrice," "),r.a.createElement("p",null,"Sector Size : ",this.formatAdjPower(e.serviceDetails.sectorSize)," "),r.a.createElement("p",null,"Minimum Piece Size : ",this.formatAdjPower(e.serviceDetails.minPieceSize)," "),r.a.createElement("p",null,"Maximum Piece Size : ",this.formatAdjPower(e.serviceDetails.maxPieceSize)," ")),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Financial Metrics",style:{width:"93vw"}},r.a.createElement("p",null,"Total Income : ",this.formatFIL(e.financeMetrics.totalIncome)," "),r.a.createElement("p",null,"Total Expenditure : ",this.formatFIL(e.financeMetrics.totalExpenditure)," "),r.a.createElement("p",null,"Block Rewards : ",this.formatFIL(e.financeMetrics.blockRewards)," "),r.a.createElement("p",null,"Storage Deal Payments : ",this.formatFIL(e.financeMetrics.blockRewards)," "),r.a.createElement("p",null,"Retrieval Deal Payments : ",this.formatFIL(e.financeMetrics.retrievalDealPayments)," "),r.a.createElement("p",null,"Network Fee : ",this.formatFIL(e.financeMetrics.networkFee)," "),r.a.createElement("p",null,"Penalty : ",this.formatFIL(e.financeMetrics.penalty)," "),r.a.createElement("p",null,"PreCommit Deposits : ",this.formatFIL(e.financeMetrics.preCommitDeposits)," "),r.a.createElement("p",null,"Initial Pledge : ",this.formatFIL(e.financeMetrics.initialPledge)," "),r.a.createElement("p",null,"Locked Funds : ",this.formatFIL(e.financeMetrics.lockedFunds)," "),r.a.createElement("p",null,"Available Funds : ",this.formatFIL(e.financeMetrics.availableFunds)," ")),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Quality Indicators",style:{width:"93vw"}},r.a.createElement("p",null,"Win Count : ",e.qualityIndicators.winCount," "),r.a.createElement("p",null,"Blocks Mined : ",e.qualityIndicators.blocksMined," "),r.a.createElement("p",null,"Quality Adjusted Power: ",this.formatAdjPower(e.qualityIndicators.qualityAdjPower)," "),r.a.createElement("p",null,"Active Sectors: ",e.qualityIndicators.activeSectors," "),r.a.createElement("p",null,"Faulty Sectors: ",e.qualityIndicators.faultySectors," ")),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Worker Address History",style:{width:"93vw"}},r.a.createElement(M,{data:e.workerChanges})),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Owner Address History",style:{width:"93vw"}},r.a.createElement(M,{data:e.ownerChanges})),r.a.createElement("br",null),r.a.createElement(I.a,{title:"Transaction History",style:{width:"93vw"}},r.a.createElement(P,{data:e.transactions})),r.a.createElement("br",null))}return r.a.createElement("div",null,"Error in fetching data from the server. See console for more details.")}return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Fetching data from the server..."))}}]),a}(n.Component)),C=p.a.Header,D=p.a.Content,O=p.a.Footer,A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(p.a,{className:"layout"},r.a.createElement(C,null,r.a.createElement(f.a,null,r.a.createElement(h.a,{span:8}),r.a.createElement(h.a,{span:8},r.a.createElement(m.b,{to:"/"},r.a.createElement("h1",{style:{color:"white",textAlign:"center"}}," Filecoin Miner Marketplace "))),r.a.createElement(h.a,{span:8}))),r.a.createElement(D,{style:{padding:"0 50px",minHeight:"85vh"}},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(d.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(S,null)}}),r.a.createElement(d.a,{path:"/miner/:address",render:function(e){return r.a.createElement(j,e)}}))),r.a.createElement(O,{style:{textAlign:"center"}},"Made with ",r.a.createElement("span",{style:{color:"orangered"}},"\u2665")," by "," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://buidllabs.io/",className:"card-link"},"BUIDL Labs"),".")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.bc73b3c8.chunk.js.map