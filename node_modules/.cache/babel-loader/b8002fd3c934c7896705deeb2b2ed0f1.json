{"ast":null,"code":"var _jsxFileName = \"/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerSearch.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchBar from '../SearchBar';\nimport { PageHeader } from 'antd';\nimport Config from '../../Config';\nexport class MinerSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      responseStatus: null\n    };\n  }\n\n  componentDidMount() {\n    axios.post(Config.miner_marketplace_api, {\n      query: `query {\n                        allMiners {\n                          id\n                        }\n                      }`,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(result => {\n      console.log(result);\n      result = result.data.data.transcoders; // console.log(result)\n\n      let new_data = res.data;\n\n      for (let i = 0; i < new_data.length; i++) {\n        new_data[i][\"TotalGeneratedFees\"] = null;\n\n        for (let j = 0; j < result.length; j++) {\n          if (new_data[i].Address === result[j].id) {\n            // console.log(new_data[i].Address, result[j].id)\n            new_data[i][\"TotalGeneratedFees\"] = Number(result[j].totalGeneratedFees);\n            break;\n          }\n        }\n      } // console.log(new_data)\n\n\n      this.setState({\n        data: new_data,\n        responseStatus: \"success\"\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        data: null,\n        responseStatus: \"failed\"\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.responseStatus) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, \"Fetching data from the server...\"));\n    } else {\n      if (this.state.data) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(PageHeader, {\n          className: \"site-page-header\",\n          backIcon: \"false\",\n          title: \"Miner Search\",\n          subTitle: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(SearchBar, {\n          data: this.state.data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }\n        }, \"Error in fetching data from the server. See console for more details.\"));\n      }\n    }\n  }\n\n}\nexport default MinerSearch;","map":{"version":3,"sources":["/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerSearch.js"],"names":["React","Component","axios","SearchBar","PageHeader","Config","MinerSearch","state","data","responseStatus","componentDidMount","post","miner_marketplace_api","query","headers","then","result","console","log","transcoders","new_data","res","i","length","j","Address","id","Number","totalGeneratedFees","setState","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport SearchBar from '../SearchBar'\nimport { PageHeader } from 'antd';\nimport Config from '../../Config'\n\nexport class MinerSearch extends Component {\n\n    state = {\n        data: null,\n        responseStatus: null\n    }\n\n    componentDidMount() {\n        \n                axios.post(Config.miner_marketplace_api, {\n                    query: `query {\n                        allMiners {\n                          id\n                        }\n                      }`,\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then((result) => {\n                    console.log(result)\n                    result = result.data.data.transcoders\n                    // console.log(result)\n                    let new_data = res.data\n\n                    for (let i = 0; i < new_data.length; i++) {\n                        new_data[i][\"TotalGeneratedFees\"] = null\n                        for (let j = 0; j < result.length; j++) {\n                            if (new_data[i].Address === result[j].id) {\n                                // console.log(new_data[i].Address, result[j].id)\n                                new_data[i][\"TotalGeneratedFees\"] = Number(result[j].totalGeneratedFees)\n                                break\n                            }\n                        } \n                    }\n                    // console.log(new_data)\n                    this.setState({ data: new_data, responseStatus: \"success\" })\n                })\n                .catch(err => {\n                    console.log(err)\n                    this.setState({ data: null, responseStatus: \"failed\" })\n                })\n            \n    }\n\n    render() {\n        if (!this.state.responseStatus) {\n            return (\n                <React.Fragment>\n                    <p>Fetching data from the server...</p>\n                </React.Fragment>\n            )\n        } else {\n            if (this.state.data) {\n                return (\n                    <React.Fragment>\n                        <PageHeader\n                            className=\"site-page-header\"\n                            backIcon=\"false\"\n                            title=\"Miner Search\"\n                            subTitle=\"\"\n                        />\n                        <SearchBar data={this.state.data} />\n                    </React.Fragment>\n                )\n            } else {\n                return (\n                    <React.Fragment>\n                        <p>Error in fetching data from the server. See console for more details.</p>\n                    </React.Fragment>\n                )\n            }\n        }\n    }\n}\n\nexport default MinerSearch\n"]},"metadata":{},"sourceType":"module"}