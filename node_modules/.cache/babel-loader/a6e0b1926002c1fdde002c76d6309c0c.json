{"ast":null,"code":"import _classCallCheck from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import PriceHistoryGraph from'../PriceHistoryGraph';import axios from'axios';import{PageHeader}from'antd';import Config from'../../Config';import{Layout,Menu,Breadcrumb}from'antd';import{Card}from'antd';import TransactionTable from'../TransactionTable';var Header=Layout.Header,Content=Layout.Content,Footer=Layout.Footer;export var MinerProfile=/*#__PURE__*/function(_Component){_inherits(MinerProfile,_Component);var _super=_createSuper(MinerProfile);function MinerProfile(){var _this;_classCallCheck(this,MinerProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:null,responseStatus:null};return _this;}_createClass(MinerProfile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.props.match.params.address+\" miner id\");axios.post(Config.miner_marketplace_api,{query:\"query ($id: ID!) {\\n                miner(id: $id) {\\n                  id\\n                  address\\n                  name\\n                  bio\\n                  contact {\\n                    email\\n                    slack\\n                    website\\n                    twitter\\n                    email\\n                  }\\n                  verified\\n                  serviceDetails {\\n                    storage\\n                    retrieval\\n                    repair\\n                    onlineDeals\\n                    offlineDeals\\n                    storageAskPrice\\n                    retrievalAskPrice\\n                  }\\n                  financeMetrics {\\n                    totalIncome\\n                    blockRewards\\n                    storageDealPayments\\n                    retrievalDealPayments\\n                    networkFee\\n                    penalty\\n                    totalExpenditure\\n                    preCommitDeposits\\n                    initialPledge\\n                    lockedFunds\\n                    availableFunds\\n                  }\\n                  qualityIndicators {\\n                    winCount\\n                    blocksMined\\n                    qualityAdjPower\\n                  }\\n                  transactions (since:543000, till:543010) {\\n                    transactionType\\n                    amount\\n                    sender\\n                    receiver\\n                    height\\n                    timestamp\\n                    networkFee\\n                  }\\n                }\\n              }\",variables:{id:this.props.match.params.address}},{headers:{'Content-Type':'application/json'}}).then(function(res){console.log(res.data);_this2.setState({data:res.data,responseStatus:\"success\"});}).catch(function(err){console.log(err);_this2.setState({data:null,responseStatus:\"failed\"});});}},{key:\"render\",value:function render(){if(!this.state.responseStatus){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"Fetching data from the server...\"));}else{if(this.state.data.data.miner){var data=this.state.data.data.miner;console.log(\"miner data\");console.log(data);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PageHeader,{className:\"site-page-header\",backIcon:\"false\",title:\"Miner Profile \",subTitle:this.props.match.params.address}),/*#__PURE__*/React.createElement(Card,{title:\"Basic Info\",style:{width:\"90vw\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Name : \",data.name,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Bio : \",data.bio,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Address : \",data.address,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Id : \",data.id,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Verified: \",data.verified?\"Yes\":\"No\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Card,{title:\"Contact\",style:{width:\"90vw\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Slack : \",data.contact.slack,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Twitter : \",data.contact.twitter,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Email : \",data.contact.email,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Website : \",data.contact.website,\" \")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Card,{title:\"Service Details\",style:{width:\"90vw\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Storage : \",data.serviceDetails.storage?\"Yes\":\"No\",\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Retrieval : \",data.serviceDetails.retrieval?\"Yes\":\"No\",\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Repair : \",data.serviceDetails.repair?\"Yes\":\"No\",\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Online Deals : \",data.serviceDetails.onlineDeals?\"Yes\":\"No\",\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Offline Deals : \",data.serviceDetails.offlineDeals?\"Yes\":\"No\",\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Storage Ask Price : \",data.serviceDetails.storageAskPrice,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Retrieval Ask Price : \",data.retrievalAskPrice,\" \")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Card,{title:\"Finance Metrics\",style:{width:\"90vw\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Total Income : \",data.financeMetrics.totalIncome,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Total Expenditure : \",data.financeMetrics.totalExpenditure,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Block Rewards : \",data.financeMetrics.blockRewards,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Storage Deal Payments : \",data.financeMetrics.storageDealPayments,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Retrieval Deal Payments : \",data.financeMetrics.retrievalDealPayments,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Network Fee : \",data.financeMetrics.networkFee,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Penalty : \",data.financeMetrics.penalty,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"PreCommit Deposits : \",data.financeMetrics.preCommitDeposits,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Initial Pledge : \",data.financeMetrics.initialPledge,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Locked Funds : \",data.financeMetrics.lockedFunds,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Available Funds : \",data.financeMetrics.availableFunds,\" \")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Card,{title:\"Quality Indicators\",style:{width:\"90vw\"}},/*#__PURE__*/React.createElement(\"p\",null,\"Win Count : \",data.qualityIndicators.winCount,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Blocks Mined : \",data.qualityIndicators.blocksMined,\" \"),/*#__PURE__*/React.createElement(\"p\",null,\"Quality Adjusted Power: \",data.qualityIndicators.qualityAdjPower,\" \")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TransactionTable,{data:data.transactions}));}else{return/*#__PURE__*/React.createElement(\"div\",null,\"Error in fetching data from the server. See console for more details.\");}}}}]);return MinerProfile;}(Component);export default MinerProfile;","map":{"version":3,"sources":["/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerProfile.js"],"names":["React","Component","PriceHistoryGraph","axios","PageHeader","Config","Layout","Menu","Breadcrumb","Card","TransactionTable","Header","Content","Footer","MinerProfile","state","data","responseStatus","console","log","props","match","params","address","post","miner_marketplace_api","query","variables","id","headers","then","res","setState","catch","err","miner","width","name","bio","verified","contact","slack","twitter","email","website","serviceDetails","storage","retrieval","repair","onlineDeals","offlineDeals","storageAskPrice","retrievalAskPrice","financeMetrics","totalIncome","totalExpenditure","blockRewards","storageDealPayments","retrievalDealPayments","networkFee","penalty","preCommitDeposits","initialPledge","lockedFunds","availableFunds","qualityIndicators","winCount","blocksMined","qualityAdjPower","transactions"],"mappings":"4oBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,sBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,MAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,UAAvB,KAAyC,MAAzC,CACA,OAASC,IAAT,KAAqB,MAArB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,C,GACQC,CAAAA,M,CAA4BL,M,CAA5BK,M,CAAQC,O,CAAoBN,M,CAApBM,O,CAASC,M,CAAWP,M,CAAXO,M,CAIzB,UAAaC,CAAAA,YAAb,mVAEIC,KAFJ,CAEY,CACJC,IAAI,CAAE,IADF,CAEJC,cAAc,CAAE,IAFZ,CAFZ,qGAOwB,iBAChBC,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,CAAkC,WAA9C,EACApB,KAAK,CAACqB,IAAN,CAAWnB,MAAM,CAACoB,qBAAlB,CAAyC,CACrCC,KAAK,+jDADgC,CAqDrCC,SAAS,CAAE,CACPC,EAAE,CAAE,KAAKR,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OADrB,CArD0B,CAAzC,CAyDA,CACIM,OAAO,CAAE,CACL,eAAgB,kBADX,CADb,CAzDA,EA8DCC,IA9DD,CA8DM,SAAAC,GAAG,CAAI,CACTb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACf,IAAhB,EACA,MAAI,CAACgB,QAAL,CAAc,CAAChB,IAAI,CAAEe,GAAG,CAACf,IAAX,CAAiBC,cAAc,CAAE,SAAjC,CAAd,EACH,CAjED,EAkECgB,KAlED,CAkEO,SAAAC,GAAG,CAAI,CACVhB,OAAO,CAACC,GAAR,CAAYe,GAAZ,EACA,MAAI,CAACF,QAAL,CAAc,CAAChB,IAAI,CAAE,IAAP,CAAaC,cAAc,CAAE,QAA7B,CAAd,EACH,CArED,EAsEH,CA/EL,uCAiFa,CACL,GAAI,CAAC,KAAKF,KAAL,CAAWE,cAAhB,CAAgC,CAC5B,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,gEADJ,CADJ,CAKH,CAND,IAMO,CACH,GAAI,KAAKF,KAAL,CAAWC,IAAX,CAAgBA,IAAhB,CAAqBmB,KAAzB,CAAgC,CAC5B,GAAMnB,CAAAA,IAAI,CAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgBA,IAAhB,CAAqBmB,KAAlC,CACAjB,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAD,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACA,mBACI,4CACI,oBAAC,UAAD,EACI,SAAS,CAAC,kBADd,CAEI,QAAQ,CAAC,OAFb,CAGI,KAAK,CAAC,gBAHV,CAII,QAAQ,CAAE,KAAKI,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAJtC,EADJ,cAQI,oBAAC,IAAD,EAAM,KAAK,CAAC,YAAZ,CAAyB,KAAK,CAAE,CAAEa,KAAK,CAAE,MAAT,CAAhC,eACI,uCAAYpB,IAAI,CAACqB,IAAjB,KADJ,cAEI,sCAAWrB,IAAI,CAACsB,GAAhB,KAFJ,cAGI,0CAAetB,IAAI,CAACO,OAApB,KAHJ,cAII,qCAAUP,IAAI,CAACY,EAAf,KAJJ,cAKI,0CAAcZ,IAAI,CAACuB,QAAL,CAAgB,KAAhB,CAAwB,IAAtC,CALJ,CARJ,cAeI,8BAfJ,cAgBI,oBAAC,IAAD,EAAM,KAAK,CAAC,SAAZ,CAAsB,KAAK,CAAE,CAAEH,KAAK,CAAE,MAAT,CAA7B,eACI,wCAAapB,IAAI,CAACwB,OAAL,CAAaC,KAA1B,KADJ,cAEI,0CAAezB,IAAI,CAACwB,OAAL,CAAaE,OAA5B,KAFJ,cAGI,wCAAa1B,IAAI,CAACwB,OAAL,CAAaG,KAA1B,KAHJ,cAII,0CAAe3B,IAAI,CAACwB,OAAL,CAAaI,OAA5B,KAJJ,CAhBJ,cAsBI,8BAtBJ,cAuBI,oBAAC,IAAD,EAAM,KAAK,CAAC,iBAAZ,CAA8B,KAAK,CAAE,CAAER,KAAK,CAAE,MAAT,CAArC,eACI,0CAAepB,IAAI,CAAC6B,cAAL,CAAoBC,OAApB,CAA8B,KAA9B,CAAsC,IAArD,KADJ,cAEI,4CAAiB9B,IAAI,CAAC6B,cAAL,CAAoBE,SAApB,CAAiC,KAAjC,CAAyC,IAA1D,KAFJ,cAGI,yCAAc/B,IAAI,CAAC6B,cAAL,CAAoBG,MAApB,CAA6B,KAA7B,CAAqC,IAAnD,KAHJ,cAII,+CAAoBhC,IAAI,CAAC6B,cAAL,CAAoBI,WAApB,CAAkC,KAAlC,CAA0C,IAA9D,KAJJ,cAKI,gDAAqBjC,IAAI,CAAC6B,cAAL,CAAoBK,YAApB,CAAmC,KAAnC,CAA2C,IAAhE,KALJ,cAMI,oDAAyBlC,IAAI,CAAC6B,cAAL,CAAoBM,eAA7C,KANJ,cAOI,sDAA2BnC,IAAI,CAACoC,iBAAhC,KAPJ,CAvBJ,cAgCI,8BAhCJ,cAiCI,oBAAC,IAAD,EAAM,KAAK,CAAC,iBAAZ,CAA8B,KAAK,CAAE,CAAEhB,KAAK,CAAE,MAAT,CAArC,eACI,+CAAoBpB,IAAI,CAACqC,cAAL,CAAoBC,WAAxC,KADJ,cAEI,oDAAyBtC,IAAI,CAACqC,cAAL,CAAoBE,gBAA7C,KAFJ,cAGI,gDAAqBvC,IAAI,CAACqC,cAAL,CAAoBG,YAAzC,KAHJ,cAII,wDAA6BxC,IAAI,CAACqC,cAAL,CAAoBI,mBAAjD,KAJJ,cAKI,0DAA+BzC,IAAI,CAACqC,cAAL,CAAoBK,qBAAnD,KALJ,cAMI,8CAAmB1C,IAAI,CAACqC,cAAL,CAAoBM,UAAvC,KANJ,cAOI,0CAAe3C,IAAI,CAACqC,cAAL,CAAoBO,OAAnC,KAPJ,cAQI,qDAA0B5C,IAAI,CAACqC,cAAL,CAAoBQ,iBAA9C,KARJ,cASI,iDAAsB7C,IAAI,CAACqC,cAAL,CAAoBS,aAA1C,KATJ,cAUI,+CAAoB9C,IAAI,CAACqC,cAAL,CAAoBU,WAAxC,KAVJ,cAWI,kDAAuB/C,IAAI,CAACqC,cAAL,CAAoBW,cAA3C,KAXJ,CAjCJ,cA8CI,8BA9CJ,cA+CI,oBAAC,IAAD,EAAM,KAAK,CAAC,oBAAZ,CAAiC,KAAK,CAAE,CAAE5B,KAAK,CAAE,MAAT,CAAxC,eACI,4CAAiBpB,IAAI,CAACiD,iBAAL,CAAuBC,QAAxC,KADJ,cAEI,+CAAoBlD,IAAI,CAACiD,iBAAL,CAAuBE,WAA3C,KAFJ,cAGI,wDAA6BnD,IAAI,CAACiD,iBAAL,CAAuBG,eAApD,KAHJ,CA/CJ,cAoDI,8BApDJ,cAqDI,oBAAC,gBAAD,EAAkB,IAAI,CAAEpD,IAAI,CAACqD,YAA7B,EArDJ,CADJ,CAyDH,CA7DD,IA6DO,CACH,mBACI,uGADJ,CAGH,CACJ,CACJ,CA5JL,0BAAkCpE,SAAlC,EA+JA,cAAea,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport PriceHistoryGraph from '../PriceHistoryGraph'\nimport axios from 'axios'\nimport { PageHeader } from 'antd';\nimport Config from '../../Config';\n\nimport { Layout, Menu, Breadcrumb } from 'antd';\nimport { Card } from 'antd';\nimport TransactionTable from '../TransactionTable';\nconst { Header, Content, Footer } = Layout;\n\n\n\nexport class MinerProfile extends Component {\n\n    state = {\n        data: null,\n        responseStatus: null\n    }\n\n    componentDidMount() {\n        console.log(this.props.match.params.address + \" miner id\")\n        axios.post(Config.miner_marketplace_api, {\n            query: `query ($id: ID!) {\n                miner(id: $id) {\n                  id\n                  address\n                  name\n                  bio\n                  contact {\n                    email\n                    slack\n                    website\n                    twitter\n                    email\n                  }\n                  verified\n                  serviceDetails {\n                    storage\n                    retrieval\n                    repair\n                    onlineDeals\n                    offlineDeals\n                    storageAskPrice\n                    retrievalAskPrice\n                  }\n                  financeMetrics {\n                    totalIncome\n                    blockRewards\n                    storageDealPayments\n                    retrievalDealPayments\n                    networkFee\n                    penalty\n                    totalExpenditure\n                    preCommitDeposits\n                    initialPledge\n                    lockedFunds\n                    availableFunds\n                  }\n                  qualityIndicators {\n                    winCount\n                    blocksMined\n                    qualityAdjPower\n                  }\n                  transactions (since:543000, till:543010) {\n                    transactionType\n                    amount\n                    sender\n                    receiver\n                    height\n                    timestamp\n                    networkFee\n                  }\n                }\n              }`,\n            variables: {\n                id: this.props.match.params.address\n            }\n        },\n        {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(res => {\n            console.log(res.data)\n            this.setState({data: res.data, responseStatus: \"success\"})\n        })\n        .catch(err => {\n            console.log(err)\n            this.setState({data: null, responseStatus: \"failed\"})\n        })\n    }\n\n    render() {\n        if (!this.state.responseStatus) {\n            return (\n                <React.Fragment> \n                    <p>Fetching data from the server...</p>\n                </React.Fragment>\n            )\n        } else {\n            if (this.state.data.data.miner) {\n                const data = this.state.data.data.miner;\n                console.log(\"miner data\")\n                console.log(data)\n                return (\n                    <div>\n                        <PageHeader\n                            className=\"site-page-header\"\n                            backIcon=\"false\"\n                            title=\"Miner Profile \"\n                            subTitle={this.props.match.params.address}\n                        />\n                        {/* <PriceHistoryGraph data={this.state.data} style={{ width: \"80vw\", height: \"75vh\"}}/> */}\n                        <Card title=\"Basic Info\" style={{ width: \"90vw\" }}>\n                            <p>Name : { data.name } </p>\n                            <p>Bio : { data.bio } </p>\n                            <p>Address : { data.address } </p>\n                            <p>Id : { data.id } </p>\n                            <p>Verified: {data.verified ? \"Yes\" : \"No\" }</p>\n                        </Card>\n                        <br></br>\n                        <Card title=\"Contact\" style={{ width: \"90vw\" }}>\n                            <p>Slack : { data.contact.slack } </p>\n                            <p>Twitter : { data.contact.twitter } </p>\n                            <p>Email : { data.contact.email } </p>\n                            <p>Website : { data.contact.website } </p>\n                        </Card>\n                        <br></br>\n                        <Card title=\"Service Details\" style={{ width: \"90vw\" }}>\n                            <p>Storage : { data.serviceDetails.storage ? \"Yes\" : \"No\" } </p>\n                            <p>Retrieval : { data.serviceDetails.retrieval  ? \"Yes\" : \"No\" } </p>\n                            <p>Repair : { data.serviceDetails.repair ? \"Yes\" : \"No\"  } </p>\n                            <p>Online Deals : { data.serviceDetails.onlineDeals ? \"Yes\" : \"No\"  } </p>\n                            <p>Offline Deals : { data.serviceDetails.offlineDeals ? \"Yes\" : \"No\"  } </p>\n                            <p>Storage Ask Price : { data.serviceDetails.storageAskPrice } </p>\n                            <p>Retrieval Ask Price : { data.retrievalAskPrice } </p>\n                        </Card>\n                        <br></br>\n                        <Card title=\"Finance Metrics\" style={{ width: \"90vw\" }}>\n                            <p>Total Income : { data.financeMetrics.totalIncome } </p>\n                            <p>Total Expenditure : { data.financeMetrics.totalExpenditure } </p>\n                            <p>Block Rewards : { data.financeMetrics.blockRewards } </p>\n                            <p>Storage Deal Payments : { data.financeMetrics.storageDealPayments } </p>\n                            <p>Retrieval Deal Payments : { data.financeMetrics.retrievalDealPayments } </p>\n                            <p>Network Fee : { data.financeMetrics.networkFee } </p>\n                            <p>Penalty : { data.financeMetrics.penalty } </p>\n                            <p>PreCommit Deposits : { data.financeMetrics.preCommitDeposits } </p>\n                            <p>Initial Pledge : { data.financeMetrics.initialPledge } </p>\n                            <p>Locked Funds : { data.financeMetrics.lockedFunds } </p>\n                            <p>Available Funds : { data.financeMetrics.availableFunds } </p>\n                        </Card>\n                        <br></br>\n                        <Card title=\"Quality Indicators\" style={{ width: \"90vw\" }}>\n                            <p>Win Count : { data.qualityIndicators.winCount } </p>\n                            <p>Blocks Mined : { data.qualityIndicators.blocksMined } </p>\n                            <p>Quality Adjusted Power: { data.qualityIndicators.qualityAdjPower } </p>\n                        </Card>\n                        <br></br>\n                        <TransactionTable data={data.transactions}></TransactionTable>\n                    </div>\n                )\n            } else {\n                return (\n                    <div>Error in fetching data from the server. See console for more details.</div>\n                )\n            }\n        }\n    }\n}\n\nexport default MinerProfile"]},"metadata":{},"sourceType":"module"}