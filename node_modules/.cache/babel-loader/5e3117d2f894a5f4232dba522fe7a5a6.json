{"ast":null,"code":"var _jsxFileName = \"/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerSearch.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchBar from '../SearchBar';\nimport { PageHeader } from 'antd';\nimport Config from '../../Config';\nexport class MinerSearch extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      options: null,\n      responseStatus: null,\n      value: null\n    };\n  }\n\n  componentDidMount() {\n    axios.post(Config.miner_marketplace_api, {\n      query: `query {\n                        allMiners {\n                          id\n                        }\n                      }`,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(result => {\n      console.log(result.data);\n      result = result.data.data.allMiners;\n      console.log(result); // let minerIds = []\n      // for (let i = 0; i < result.length; i++) {\n      //     minerIds.push(result[i].id)\n      // }\n      // console.log(minerIds)\n\n      this.setState({\n        options: result,\n        responseStatus: \"success\"\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        options: null,\n        responseStatus: \"failed\"\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.responseStatus) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }\n      }, \"Fetching data from the server...\"));\n    } else {\n      if (this.state.options) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(PageHeader, {\n          className: \"site-page-header\",\n          backIcon: \"false\",\n          title: \"Miner Search\",\n          subTitle: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(SearchBar, {\n          data: this.state.options,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        }, \"Error in fetching data from the server. See console for more details.\"));\n      }\n    }\n  }\n\n}\nexport default MinerSearch;","map":{"version":3,"sources":["/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerSearch.js"],"names":["React","Component","axios","SearchBar","PageHeader","Config","MinerSearch","state","options","responseStatus","value","componentDidMount","post","miner_marketplace_api","query","headers","then","result","console","log","data","allMiners","setState","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,OAAO,MAAMC,WAAN,SAA0BL,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAEvCM,KAFuC,GAE/B;AACJC,MAAAA,OAAO,EAAE,IADL;AAEJC,MAAAA,cAAc,EAAE,IAFZ;AAGJC,MAAAA,KAAK,EAAE;AAHH,KAF+B;AAAA;;AAQvCC,EAAAA,iBAAiB,GAAG;AAERT,IAAAA,KAAK,CAACU,IAAN,CAAWP,MAAM,CAACQ,qBAAlB,EAAyC;AACrCC,MAAAA,KAAK,EAAG;;;;wBAD6B;AAMrCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAN4B,KAAzC,EAUCC,IAVD,CAUOC,MAAD,IAAY;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB;AACAH,MAAAA,MAAM,GAAGA,MAAM,CAACG,IAAP,CAAYA,IAAZ,CAAiBC,SAA1B;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EAHc,CAId;AAEA;AACA;AACA;AACA;;AACA,WAAKK,QAAL,CAAc;AAAEd,QAAAA,OAAO,EAAES,MAAX;AAAmBR,QAAAA,cAAc,EAAE;AAAnC,OAAd;AACH,KArBD,EAsBCc,KAtBD,CAsBOC,GAAG,IAAI;AACVN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACA,WAAKF,QAAL,CAAc;AAAEd,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,cAAc,EAAE;AAAjC,OAAd;AACH,KAzBD;AA2BX;;AAEDgB,EAAAA,MAAM,GAAG;AACL,QAAI,CAAC,KAAKlB,KAAL,CAAWE,cAAhB,EAAgC;AAC5B,0BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,CADJ;AAKH,KAND,MAMO;AACH,UAAI,KAAKF,KAAL,CAAWC,OAAf,EAAwB;AACpB,4BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,UAAD;AACI,UAAA,SAAS,EAAC,kBADd;AAEI,UAAA,QAAQ,EAAC,OAFb;AAGI,UAAA,KAAK,EAAC,cAHV;AAII,UAAA,QAAQ,EAAC,EAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,eAOI,oBAAC,SAAD;AAAW,UAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPJ,CADJ;AAWH,OAZD,MAYO;AACH,4BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFADJ,CADJ;AAKH;AACJ;AACJ;;AAnEsC;AAsE3C,eAAeF,WAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport SearchBar from '../SearchBar'\nimport { PageHeader } from 'antd';\nimport Config from '../../Config'\n\nexport class MinerSearch extends Component {\n\n    state = {\n        options: null,\n        responseStatus: null,\n        value: null\n    }\n\n    componentDidMount() {\n        \n                axios.post(Config.miner_marketplace_api, {\n                    query: `query {\n                        allMiners {\n                          id\n                        }\n                      }`,\n                    headers: {\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then((result) => {\n                    console.log(result.data)\n                    result = result.data.data.allMiners\n                    console.log(result)\n                    // let minerIds = []\n\n                    // for (let i = 0; i < result.length; i++) {\n                    //     minerIds.push(result[i].id)\n                    // }\n                    // console.log(minerIds)\n                    this.setState({ options: result, responseStatus: \"success\" })\n                })\n                .catch(err => {\n                    console.log(err)\n                    this.setState({ options: null, responseStatus: \"failed\" })\n                })\n            \n    }\n\n    render() {\n        if (!this.state.responseStatus) {\n            return (\n                <React.Fragment>\n                    <p>Fetching data from the server...</p>\n                </React.Fragment>\n            )\n        } else {\n            if (this.state.options) {\n                return (\n                    <React.Fragment>\n                        <PageHeader\n                            className=\"site-page-header\"\n                            backIcon=\"false\"\n                            title=\"Miner Search\"\n                            subTitle=\"\"\n                        />\n                        <SearchBar data={this.state.options} />\n                    </React.Fragment>\n                )\n            } else {\n                return (\n                    <React.Fragment>\n                        <p>Error in fetching data from the server. See console for more details.</p>\n                    </React.Fragment>\n                )\n            }\n        }\n    }\n}\n\nexport default MinerSearch\n"]},"metadata":{},"sourceType":"module"}