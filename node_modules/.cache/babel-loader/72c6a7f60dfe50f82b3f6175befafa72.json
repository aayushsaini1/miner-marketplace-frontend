{"ast":null,"code":"import _classCallCheck from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/saumay/Desktop/miner-marketplace-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{Table}from'antd';export var OrchestratorTable=/*#__PURE__*/function(_Component){_inherits(OrchestratorTable,_Component);var _super=_createSuper(OrchestratorTable);function OrchestratorTable(){var _this;_classCallCheck(this,OrchestratorTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.columns=[{title:'Address',dataIndex:'Address',align:'left'},// {\n//     title: 'Activation Round',\n//     dataIndex: 'ActivationRound',\n//     align: 'center',\n//     sorter: {\n//         compare: (a, b) => a.ActivationRound - b.ActivationRound\n//     },\n// },\n// {\n//     title: 'Last Reward Round',\n//     dataIndex: 'LastRewardRound',\n//     align: 'center',\n//     sorter: {\n//         compare: (a, b) => a.LastRewardRound - b.LastRewardRound\n//     },\n// },\n{title:'Delegated Stake',dataIndex:'DelegatedStake',align:'right',sorter:{compare:function compare(a,b){return a.DelegatedStakeRaw-b.DelegatedStakeRaw;}}},{title:'Reward Cut',dataIndex:'RewardCut',align:'right',sorter:{compare:function compare(a,b){return a.RewardCut-b.RewardCut;}},render:function render(text){return text+\"%\";}},{title:'Fee Share',dataIndex:'FeeShare',align:'right',sorter:{compare:function compare(a,b){return a.FeeShare-b.FeeShare;}},render:function render(text){return text+\"%\";}},{title:'Total Fees Earned',dataIndex:'TotalGeneratedFees',align:'right',sorter:{compare:function compare(a,b){return a.TotalGeneratedFeesRaw-b.TotalGeneratedFeesRaw;}}},{title:'Price Per Pixel',dataIndex:'PricePerPixel',align:'right',sorter:{compare:function compare(a,b){return a.PricePerPixelRaw-b.PricePerPixelRaw;}}},{title:'Price History',align:'center',render:function render(text,record,index){return/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/priceHistory/\"+record.Address,address:record.Address}},\"View\");}}// {\n//     title: 'Active',\n//     dataIndex: 'Active',\n//     align: 'center',\n// },\n// {\n//     title: 'Status',\n//     dataIndex: 'Status',\n//     align: 'center',\n// },\n];return _this;}_createClass(OrchestratorTable,[{key:\"formatNumber\",value:function formatNumber(num,prec){num=num.toFixed(prec);num=num.toString();var numstring=\"\";var periodpos=num.indexOf(\".\");var flag=0;numstring=num.slice(periodpos,num.length);for(var index=periodpos;index>0;index=index-3){var start=index-3;if(start<0){start=0;}if(flag===0){numstring=num.slice(start,index)+numstring;flag=1;}else{numstring=num.slice(start,index)+\",\"+numstring;}}return numstring;}},{key:\"processDelegatedStake\",value:function processDelegatedStake(ds){if(ds>Math.pow(10,15)){return this.formatNumber(ds/Math.pow(10,18),3)+\" LPT\";}else{return this.formatNumber(ds,3)+\" LPTU\";}}},{key:\"processFees\",value:function processFees(fees){fees=fees*1.0;return this.formatNumber(fees/Math.pow(10,18),6)+\" ETH\";}},{key:\"processPPP\",value:function processPPP(ppp){if(ppp<0){return\"-\"+this.formatNumber(Math.abs(ppp),3)+\" wei\";}else{return this.formatNumber(Math.abs(ppp),3)+\" wei\";}}},{key:\"preprocessData\",value:function preprocessData(data){var _this2=this;var newdata=[];data.forEach(function(element){newdata.push({key:element.Address,Address:element.Address,ServiceURI:element.ServiceURI,LastRewardRound:element.LastRewardRound,RewardCut:element.RewardCut/10000,FeeShare:element.FeeShare/10000,DelegatedStakeRaw:element.DelegatedStake,DelegatedStake:_this2.processDelegatedStake(element.DelegatedStake),ActivationRound:element.ActivationRound,DeactivationRound:element.DeactivationRound,Active:element.Active?\"Active\":\"Inactive\",Status:element.Status,PricePerPixelRaw:element.PricePerPixel,PricePerPixel:_this2.processPPP(element.PricePerPixel),UpdatedAt:element.UpdatedAt,TotalGeneratedFeesRaw:element.TotalGeneratedFees,TotalGeneratedFees:_this2.processFees(element.TotalGeneratedFees)});});return newdata;}},{key:\"onChange\",value:function onChange(pagination,filters,sorter,extra){console.log('params',pagination,filters,sorter,extra);}},{key:\"render\",value:function render(){var data=this.preprocessData(this.props.data);return/*#__PURE__*/React.createElement(Table,{columns:this.columns,dataSource:data,onChange:this.onChange,pagination:false});}}]);return OrchestratorTable;}(Component);export default OrchestratorTable;","map":{"version":3,"sources":["/Users/saumay/Desktop/miner-marketplace-frontend/src/components/OrchestratorTable.js"],"names":["React","Component","Link","Table","OrchestratorTable","columns","title","dataIndex","align","sorter","compare","a","b","DelegatedStakeRaw","RewardCut","render","text","FeeShare","TotalGeneratedFeesRaw","PricePerPixelRaw","record","index","pathname","Address","address","num","prec","toFixed","toString","numstring","periodpos","indexOf","flag","slice","length","start","ds","formatNumber","fees","ppp","Math","abs","data","newdata","forEach","element","push","key","ServiceURI","LastRewardRound","DelegatedStake","processDelegatedStake","ActivationRound","DeactivationRound","Active","Status","PricePerPixel","processPPP","UpdatedAt","TotalGeneratedFees","processFees","pagination","filters","extra","console","log","preprocessData","props","onChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { Table } from 'antd';\n\nexport class OrchestratorTable extends Component {\n\n    columns = [\n    {\n        title: 'Address',\n        dataIndex: 'Address',\n        align: 'left',\n    },\n    // {\n    //     title: 'Activation Round',\n    //     dataIndex: 'ActivationRound',\n    //     align: 'center',\n    //     sorter: {\n    //         compare: (a, b) => a.ActivationRound - b.ActivationRound\n    //     },\n    // },\n    // {\n    //     title: 'Last Reward Round',\n    //     dataIndex: 'LastRewardRound',\n    //     align: 'center',\n    //     sorter: {\n    //         compare: (a, b) => a.LastRewardRound - b.LastRewardRound\n    //     },\n    // },\n    {\n        title: 'Delegated Stake',\n        dataIndex: 'DelegatedStake',\n        align: 'right',\n        sorter: {\n            compare: (a, b) => a.DelegatedStakeRaw - b.DelegatedStakeRaw\n        },\n    },\n    {\n        title: 'Reward Cut',\n        dataIndex: 'RewardCut',\n        align: 'right',\n        sorter: {\n            compare: (a, b) => a.RewardCut - b.RewardCut\n        },\n        render: (text) => text + \"%\"\n    },\n    {\n        title: 'Fee Share',\n        dataIndex: 'FeeShare',\n        align: 'right',\n        sorter: {\n            compare: (a, b) => a.FeeShare - b.FeeShare\n        },\n        render: (text) => text + \"%\"\n    },\n    {\n        title: 'Total Fees Earned',\n        dataIndex: 'TotalGeneratedFees',\n        align: 'right',\n        sorter: {\n            compare: (a, b) => a.TotalGeneratedFeesRaw - b.TotalGeneratedFeesRaw\n        }\n    },\n    {\n        title: 'Price Per Pixel',\n        dataIndex: 'PricePerPixel',\n        align: 'right',\n        sorter: {\n            compare: (a, b) => a.PricePerPixelRaw - b.PricePerPixelRaw\n        }\n    },\n    {\n        title: 'Price History',\n        align: 'center',\n        render: function (text, record, index) {\n            return (\n                <Link to={{\n                    pathname: \"/priceHistory/\"+record.Address,\n                    address: record.Address\n                }}>\n                    { \"View\" }\n                </Link>\n            )\n        }\n    },\n    // {\n    //     title: 'Active',\n    //     dataIndex: 'Active',\n    //     align: 'center',\n    // },\n    // {\n    //     title: 'Status',\n    //     dataIndex: 'Status',\n    //     align: 'center',\n    // },\n    ];\n\n    formatNumber(num, prec) {\n        num = num.toFixed(prec)\n        num = num.toString()\n        let numstring = \"\"\n        let periodpos = num.indexOf(\".\")\n        let flag = 0\n        numstring = num.slice(periodpos, num.length)\n        for (let index = periodpos; index > 0; index=index-3) {\n            let start = index - 3\n            if (start < 0) {\n                start = 0\n            }\n            if(flag===0) {\n                numstring = num.slice(start, index) + numstring\n                flag = 1\n            } else {\n                numstring = num.slice(start, index) + \",\" + numstring\n            }\n        }\n        return numstring\n    }\n\n    processDelegatedStake(ds) {\n        if (ds > 10**15) {\n            return this.formatNumber(ds / 10**18, 3) + \" LPT\"\n        } else {\n            return this.formatNumber(ds, 3) + \" LPTU\"\n        }\n    }\n\n    processFees(fees) {\n        fees = fees * 1.0\n        return this.formatNumber(fees / 10**18, 6) + \" ETH\"\n    }\n\n    processPPP(ppp) {\n        if (ppp < 0) {\n            return \"-\" + this.formatNumber(Math.abs(ppp), 3) + \" wei\"\n        } else {\n            return this.formatNumber(Math.abs(ppp), 3) + \" wei\"\n        }\n    }\n\n    preprocessData(data) {\n        let newdata = []\n        data.forEach(element => {\n            newdata.push({\n                key: element.Address,\n                Address: element.Address,\n                ServiceURI: element.ServiceURI,\n                LastRewardRound: element.LastRewardRound,\n                RewardCut: element.RewardCut / 10000,\n                FeeShare: element.FeeShare / 10000,\n                DelegatedStakeRaw: element.DelegatedStake,\n                DelegatedStake: this.processDelegatedStake(element.DelegatedStake),\n                ActivationRound: element.ActivationRound,\n                DeactivationRound: element.DeactivationRound,\n                Active: (element.Active ? \"Active\" : \"Inactive\"),\n                Status: element.Status,\n                PricePerPixelRaw: element.PricePerPixel,\n                PricePerPixel: this.processPPP(element.PricePerPixel),\n                UpdatedAt: element.UpdatedAt,\n                TotalGeneratedFeesRaw: element.TotalGeneratedFees,\n                TotalGeneratedFees: this.processFees(element.TotalGeneratedFees),\n            })\n        });\n        return newdata\n    }\n\n    onChange (pagination, filters, sorter, extra) {\n        console.log('params', pagination, filters, sorter, extra);\n    }\n    \n    \n    render() {\n        const data = this.preprocessData(this.props.data)\n        return (\n            <Table columns={this.columns} dataSource={data} onChange={this.onChange} pagination={false}/>\n        )\n    }\n}\n\n\nexport default OrchestratorTable\n"]},"metadata":{},"sourceType":"module"}