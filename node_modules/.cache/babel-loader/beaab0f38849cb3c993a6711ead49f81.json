{"ast":null,"code":"var _jsxFileName = \"/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerProfile.js\";\nimport React, { Component } from 'react';\nimport PriceHistoryGraph from '../PriceHistoryGraph';\nimport axios from 'axios';\nimport { PageHeader } from 'antd';\nimport Config from '../../Config';\nimport { Layout, Menu, Breadcrumb } from 'antd';\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nexport class MinerProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: null,\n      responseStatus: null\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.match.params.address + \" miner id\");\n    axios.post(Config.miner_marketplace_api, {\n      query: `query {\n                miner(id: \"$id\") {\n                  id\n                  address\n                  name\n                  bio\n                  contact {\n                    email\n                    slack\n                    website\n                    twitter\n                    email\n                  }\n                  verified\n                  serviceDetails {\n                    storage\n                    retrieval\n                    repair\n                    onlineDeals\n                    offlineDeals\n                    storageAskPrice\n                    retrievalAskPrice\n                  }\n                  financeMetrics {\n                    totalIncome\n                    blockRewards\n                    storageDealPayments\n                    retrievalDealPayments\n                    networkFee\n                    penalty\n                    totalExpenditure\n                    preCommitDeposits\n                    initialPledge\n                    lockedFunds\n                    availableFunds\n                  }\n                  transactions (since:500000 till:505914) {\n                    transactionType\n                    amount\n                    sender\n                    receiver\n                    height\n                    timestamp\n                    networkFee\n                  }\n                }\n              }`,\n      variables: {\n        id: this.props.match.params.address\n      }\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log(res);\n      this.setState({\n        data: res.data,\n        responseStatus: \"success\"\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        data: null,\n        responseStatus: \"failed\"\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.responseStatus) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }, \"Fetching data from the server...\"));\n    } else {\n      if (this.state.data) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(PageHeader, {\n          className: \"site-page-header\",\n          backIcon: \"false\",\n          title: \"Miner Profile \",\n          subTitle: this.props.match.params.address,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }\n        }));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }\n        }, \"Error in fetching data from the server. See console for more details.\");\n      }\n    }\n  }\n\n}\nexport default MinerProfile;","map":{"version":3,"sources":["/Users/saumay/Desktop/miner-marketplace-frontend/src/components/pages/MinerProfile.js"],"names":["React","Component","PriceHistoryGraph","axios","PageHeader","Config","Layout","Menu","Breadcrumb","Header","Content","Footer","MinerProfile","state","data","responseStatus","componentDidMount","console","log","props","match","params","address","post","miner_marketplace_api","query","variables","id","headers","then","res","setState","catch","err","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,UAAvB,QAAyC,MAAzC;AACA,MAAM;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAmBC,EAAAA;AAAnB,IAA8BL,MAApC;AAGA,OAAO,MAAMM,YAAN,SAA2BX,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAExCY,KAFwC,GAEhC;AACJC,MAAAA,IAAI,EAAE,IADF;AAEJC,MAAAA,cAAc,EAAE;AAFZ,KAFgC;AAAA;;AAOxCC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAxB,GAAkC,WAA9C;AACAnB,IAAAA,KAAK,CAACoB,IAAN,CAAWlB,MAAM,CAACmB,qBAAlB,EAAyC;AACrCC,MAAAA,KAAK,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAD6B;AAgDrCC,MAAAA,SAAS,EAAE;AACPC,QAAAA,EAAE,EAAE,KAAKR,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC;AADrB;AAhD0B,KAAzC,EAoDA;AACIM,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADb,KApDA,EAyDCC,IAzDD,CAyDMC,GAAG,IAAI;AACTb,MAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACA,WAAKC,QAAL,CAAc;AAACjB,QAAAA,IAAI,EAAEgB,GAAG,CAAChB,IAAX;AAAiBC,QAAAA,cAAc,EAAE;AAAjC,OAAd;AACH,KA5DD,EA6DCiB,KA7DD,CA6DOC,GAAG,IAAI;AACVhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,GAAZ;AACA,WAAKF,QAAL,CAAc;AAACjB,QAAAA,IAAI,EAAE,IAAP;AAAaC,QAAAA,cAAc,EAAE;AAA7B,OAAd;AACH,KAhED;AAiEH;;AAEDmB,EAAAA,MAAM,GAAG;AACL,QAAI,CAAC,KAAKrB,KAAL,CAAWE,cAAhB,EAAgC;AAC5B,0BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,CADJ;AAKH,KAND,MAMO;AACH,UAAI,KAAKF,KAAL,CAAWC,IAAf,EAAqB;AACjB,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI,oBAAC,UAAD;AACI,UAAA,SAAS,EAAC,kBADd;AAEI,UAAA,QAAQ,EAAC,OAFb;AAGI,UAAA,KAAK,EAAC,gBAHV;AAII,UAAA,QAAQ,EAAE,KAAKK,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAJtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAYH,OAbD,MAaO;AACH,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFADJ;AAGH;AACJ;AACJ;;AAvGuC;AA0G5C,eAAeV,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport PriceHistoryGraph from '../PriceHistoryGraph'\nimport axios from 'axios'\nimport { PageHeader } from 'antd';\nimport Config from '../../Config';\n\nimport { Layout, Menu, Breadcrumb } from 'antd';\nconst { Header, Content, Footer } = Layout;\n\n\nexport class MinerProfile extends Component {\n\n    state = {\n        data: null,\n        responseStatus: null\n    }\n\n    componentDidMount() {\n        console.log(this.props.match.params.address + \" miner id\")\n        axios.post(Config.miner_marketplace_api, {\n            query: `query {\n                miner(id: \"$id\") {\n                  id\n                  address\n                  name\n                  bio\n                  contact {\n                    email\n                    slack\n                    website\n                    twitter\n                    email\n                  }\n                  verified\n                  serviceDetails {\n                    storage\n                    retrieval\n                    repair\n                    onlineDeals\n                    offlineDeals\n                    storageAskPrice\n                    retrievalAskPrice\n                  }\n                  financeMetrics {\n                    totalIncome\n                    blockRewards\n                    storageDealPayments\n                    retrievalDealPayments\n                    networkFee\n                    penalty\n                    totalExpenditure\n                    preCommitDeposits\n                    initialPledge\n                    lockedFunds\n                    availableFunds\n                  }\n                  transactions (since:500000 till:505914) {\n                    transactionType\n                    amount\n                    sender\n                    receiver\n                    height\n                    timestamp\n                    networkFee\n                  }\n                }\n              }`,\n            variables: {\n                id: this.props.match.params.address\n            }\n        },\n        {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(res => {\n            console.log(res)\n            this.setState({data: res.data, responseStatus: \"success\"})\n        })\n        .catch(err => {\n            console.log(err)\n            this.setState({data: null, responseStatus: \"failed\"})\n        })\n    }\n\n    render() {\n        if (!this.state.responseStatus) {\n            return (\n                <React.Fragment> \n                    <p>Fetching data from the server...</p>\n                </React.Fragment>\n            )\n        } else {\n            if (this.state.data) {\n                return (\n                    <div>\n                        <PageHeader\n                            className=\"site-page-header\"\n                            backIcon=\"false\"\n                            title=\"Miner Profile \"\n                            subTitle={this.props.match.params.address}\n                        />\n                        {/* <PriceHistoryGraph data={this.state.data} style={{ width: \"80vw\", height: \"75vh\"}}/> */}\n                        \n                    </div>\n                )\n            } else {\n                return (\n                    <div>Error in fetching data from the server. See console for more details.</div>\n                )\n            }\n        }\n    }\n}\n\nexport default MinerProfile"]},"metadata":{},"sourceType":"module"}